(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{dzOB:function(e,a,t){"use strict";var r=t("TqRt"),l=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("iQDF");var s=r(t("+eQT"));t("5NDa");var i=r(t("5rEg"));t("miYZ");var n=r(t("tsqr")),u=r(t("MVZn")),d=r(t("lwsE")),c=r(t("W8MJ")),f=r(t("a1gu")),o=r(t("Nsbk")),m=r(t("7W2i"));t("DZo9");var p=r(t("8z0m"));t("+L6B");var v=r(t("2/Rp"));t("y8nQ");var g,b,h,w=r(t("Vl3Y")),E=l(t("q1tI")),M=t("LLXN"),_=t("MuoO"),y=r(t("wd/R")),V=r(t("gJV7")),k=w.default.Item,N=function(e){var a=e.avatar;return E.default.createElement(E.Fragment,null,E.default.createElement("div",{className:V.default.avatar_title},E.default.createElement(M.FormattedMessage,{id:"app.settings.basic.avatar",defaultMessage:"Avatar"})),E.default.createElement("div",{className:V.default.avatar},E.default.createElement("img",{src:a,alt:"avatar"})),E.default.createElement(p.default,{fileList:[]},E.default.createElement("div",{className:V.default.button_view},E.default.createElement(v.default,{icon:"upload"},E.default.createElement(M.FormattedMessage,{id:"app.settings.basic.change-avatar",defaultMessage:"Change avatar"})))))},D=(g=(0,_.connect)(function(e){var a=e.user;return{currentUser:a.currentUser}}),b=w.default.create(),g(h=b(h=function(e){function a(){var e,t;(0,d.default)(this,a);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return t=(0,f.default)(this,(e=(0,o.default)(a)).call.apply(e,[this].concat(l))),t.handleSubmit=function(e){e.preventDefault();var a=t.props,r=a.form,l=a.dispatch,s=a.currentUser;r.validateFieldsAndScroll(function(e,a){if(!e){var t=a.date_of_birth,i=(0,y.default)(t).format("YYYY-MM-DD");l({type:"user/update",payload:(0,u.default)({},a,{id:s.id,date_of_birth:i})}),n.default.success("\u66f4\u65b0\u6210\u529f"),r.resetFields()}})},t.getViewDom=function(e){t.view=e},t}return(0,m.default)(a,e),(0,c.default)(a,[{key:"getAvatarURL",value:function(){var e=this.props.currentUser;if(e.avatar)return e.avatar;var a="https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png";return a}},{key:"render",value:function(){var e=this,a=this.props,t=a.form.getFieldDecorator,r=a.currentUser;return E.default.createElement("div",{className:V.default.baseView,ref:this.getViewDom},E.default.createElement("div",{className:V.default.left},E.default.createElement(w.default,{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0},E.default.createElement(k,{label:(0,M.formatMessage)({id:"app.settings.basic.email"})},t("email",{rules:[{required:!0,message:(0,M.formatMessage)({id:"app.settings.basic.email-message"},{})}],initialValue:r.email})(E.default.createElement(i.default,null))),E.default.createElement(k,{label:(0,M.formatMessage)({id:"app.settings.basic.nickname"})},t("name",{rules:[{required:!0,message:(0,M.formatMessage)({id:"app.settings.basic.nickname-message"},{})}],initialValue:r.name})(E.default.createElement(i.default,null))),E.default.createElement(k,{label:"\u751f\u65e5"},t("date_of_birth",{rules:[{required:!0,message:"\u5fc5\u987b\u586b\u5199\u751f\u65e5"}],initialValue:(0,y.default)(r.date_of_birth)})(E.default.createElement(s.default,{style:{width:"100%"}}))),E.default.createElement(v.default,{type:"primary",onClick:function(a){return e.handleSubmit(a)}},E.default.createElement(M.FormattedMessage,{id:"app.settings.basic.update",defaultMessage:"Update Information"})))),E.default.createElement("div",{className:V.default.right},E.default.createElement(N,{avatar:this.getAvatarURL()})))}}]),a}(E.Component))||h)||h),F=D;a.default=F},gJV7:function(e,a,t){e.exports={baseView:"antd-pro-pages-account-settings-base-view-baseView",left:"antd-pro-pages-account-settings-base-view-left",right:"antd-pro-pages-account-settings-base-view-right",avatar_title:"antd-pro-pages-account-settings-base-view-avatar_title",avatar:"antd-pro-pages-account-settings-base-view-avatar",button_view:"antd-pro-pages-account-settings-base-view-button_view"}}}]);